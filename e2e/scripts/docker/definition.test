#!/singularity/test
# test docker build from definition files

source common.func
source docker/docker.func

# Test docker definition file
build-from-definition "Busybox" docker/testdata/busybox.def
build-from-definition "CentOS"  docker/testdata/centos.def
build-from-definition "Ubuntu"  docker/testdata/ubuntu.def

if check-kernel-version ">=3.0.0"; then
    build-from-definition "Arch"  docker/testdata/arch.def
else
    test-skip "Arch" "kernel >= 3.0.0 is required"
fi